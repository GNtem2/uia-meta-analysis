---
title: "01-Tables"
author: "Ronil V. Chandra"
date: "13/06/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

###Load packages

```{r load packages, echo = FALSE, include = FALSE}

library(tidyverse)
library(kableExtra)
```

#### Load required data

A single excel data file is loaded to carry out all data table creation, with all steps documented below to ensure reproducibility of research.

```{r load data, echo = FALSE, include = FALSE}

maindata <- read_csv("data/maindata.csv")
```


### Analyse total cohort of all aneurysms 10 mm and less 

```{r select total cohort}

sizedata <- filter(maindata, size == 10)

```



### Display all included information for all aneurysms 10 mm and less 
### Display all included information for all aneurysms 10 mm and less - option 2 = Kable and Kable Extra. 


```{r, results = 'asis'}

sizedata %>%
  select(auth, pub, start, end, country, type, age_mean, age_med, num, num_anr_tot, psah_tot, fu_mean_tot, fu_med_tot, rupt, rupt_psah) %>%
  knitr::kable(
    caption = "Table 1: Baseline Study Characteristics",
    col.names = c("Author", "Publication Year", "Study Year Start", "Study Year End", "Source Population", "Study Type", "Mean Age", "Median Age", "Number of Total Patients Observed", "Number of Total Aneurysms Observed", "Number of Total Patients with prior SAH Observed", "Mean Total Follow up (Months)", "Median Total Follow up (Months)", "Number of Patients with rupture", "Number of Patients with prior SAH and rupture"),
    align = c("l", "c", "c", "c", "c", "c", "c", "c", "c", "c", "c", "c"),
    longtable=TRUE,
    digits = 1) %>%
  kableExtra::kable_styling(bootstrap = "striped", 
                            full_width = FALSE,
                            font_size = 10,
                            ) %>%
  footnote(
    general_title = "Footnote:",
    general = "SAH = Subrachnoid haemorrhage",
    threeparttable=TRUE,
    )


```



